type TransferEntity @entity {
  id: ID!
  blockId: String!
  blockHash: String!
  extrinsicId: String!
  isSuccess: Boolean!
  timestamp: Date! @index
  from: String!
  to: String!
  currency: String!
  amount: String!
  amountRounded: Float!
}

type CollectionEntity @entity {
  id: ID!
  collectionId: String!
  owner: String! @index
  offchainData: String!
  nfts: [String]
  limit: Int
  isClosed: Boolean!
  timestampCreate: Date! @index
  timestampBurn: Date @index
  timestampClose: Date @index
  timestampLimit: Date @index
}

type NftEntity @entity {
  id: ID!
  nftId: String!
  collectionId: String
  owner: String! @index
  creator: String! @index
  offchainData: String!
  royalty: String!
  mintFee: String!
  mintFeeRounded: Float
  isCapsule: Boolean!
  isSecret: Boolean!
  delegatee: String @index
  isDelegated: Boolean!
  isSoulbound: Boolean!
  listedForSale: Boolean!
  price: String
  priceRounded: Float
  marketplaceId: String
  createdAt: Date!
  updatedAt: Date!
  timestampCreate: Date! @index
  timestampBurn: Date @index
  timestampList: Date @index
}

type NftOperationEntity @entity {
  id: ID!
  blockId: String!
  extrinsicId: String!
  nft: NftEntity!
  from: String! @index
  to: String @index
  collectionId: String @index
  commissionFeeType: String #Flat or Percentage
  commissionFee: String # Need to be changed to Float : if percentage permill/10000 or flat = format from ternoaJS
  commissionFeeRounded: Float
  listingFeeType: String #Flat or Percentage
  listingFee: String # Need to be changed to Float : if percentage permill/10000 or flat = format from ternoaJS
  listingFeeRounded: Float
  price: String
  priceRounded: Float
  royalty: Float
  royaltyCut: String
  royaltyCutRounded: Float
  marketplaceId: String
  marketplaceCut: String
  marketplaceCutRounded: Float
  timestamp: Date! @index
  typeOfTransaction: String!
}

type MarketplaceEntity @entity {
  id: ID!
  marketplaceId: String!
  owner: String!
  kind: String!
  commissionFeeType: String
  commissionFee: String  # Need to be changed to Float
  listingFeeType: String
  listingFee: String  # Need to be changed to Float
  accountList: [String]
  offchainData: String
  createdAt: Date!
  updatedAt: Date!
}

type AccountEntity @entity {
  id: ID!
  capsAmount: String
  capsAmountFrozen: String
  capsAmountTotal: String
  capsAmountRounded: Float
  capsAmountFrozenRounded: Float
  capsAmountTotalRounded: Float
  createdAt: Date!
  updatedAt: Date!
}

type AggregateResultEntity @entity {
  id: ID!
  occurences: Int!
}
